window.__require=function t(e,n,c){function o(a,s){if(!n[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var _="function"==typeof __require&&__require;if(!s&&_)return _(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var d=n[a]={exports:{}};e[a][0].call(d.exports,function(t){return o(e[a][1][t]||t)},d,d.exports,t,e,n,c)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<c.length;a++)o(c[a]);return o}({camera_control:[function(t,e,n){"use strict";cc._RF.push(e,"5fc4cJILB5Cw7VBuzTiOC4B","camera_control"),cc.Class({extends:cc.Component,properties:{Cam_X:cc.Node,Cam_Y:cc.Node,Render_Camera:cc.Node,Cam_Pos:cc.Node,Cam_Root:cc.Node,Content_Node:cc.Node,Min_Scale:.5,Max_Scale:1.5,X_Offset_Max:.3,Y_Offset_Max:.6},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.X_Offset=0,this.Y_Offset=0,this.Content_Scale=1},start:function(){this.Render_Camera.setPosition(this.Cam_Pos.convertToWorldSpaceAR(cc.v3(0,0,0)).add(cc.v3(0,0,0)));var t=this.Cam_Root.convertToWorldSpaceAR(cc.v3(0,0,0));this.Render_Camera.lookAt(t,cc.Vec3.UP)},onTouchMove:function(t){var e=t.getTouches(),n=0,c=0;if(1==e.length){var o=e[0].getDelta();n=-o.x/200,c=o.y/200}else if(e.length>=2){var i=e[0],a=e[1],s=i.getDelta(),r=a.getDelta(),_=i.getLocation(),d=a.getLocation(),h=_.sub(d),u=s.sub(r);this.X_Offset+=(s.x+r.x)/4/1200,this.Y_Offset-=(s.y+r.y)/4/1200,this.X_Offset=cc.misc.clampf(this.X_Offset,-this.X_Offset_Max,this.X_Offset_Max),this.Y_Offset=cc.misc.clampf(this.Y_Offset,-this.Y_Offset_Max,this.Y_Offset_Max);var f=1;f=Math.abs(h.x)>Math.abs(h.y)?(h.x+.5*u.x)/h.x*this.Content_Scale:(h.y+.5*u.y)/h.y*this.Content_Scale,this.Content_Scale=cc.misc.clampf(f,this.Min_Scale,this.Max_Scale),this.Content_Node.scale=this.Content_Scale}var l=new cc.Quat,p=new cc.Quat;this.Cam_X.getRotation(l),this.Cam_Y.getRotation(p),l.rotateAround(l,cc.v3(0,1,0),n,l),p.rotateAround(p,cc.v3(1,0,0),c,p),this.Cam_X.setRotation(l),this.Cam_Y.setRotation(p);var m=this.Cam_Y.eulerAngles;m.x=m.x>7?7:m.x,m.x=m.x<-60?-60:m.x,this.Cam_Y.eulerAngles=m,this.Render_Camera.setPosition(this.Cam_Pos.convertToWorldSpaceAR(cc.v3(0,0,0)).add(cc.v3(0,0,0)));var g=this.Cam_Root.convertToWorldSpaceAR(cc.v3(0,0,0));this.Render_Camera.lookAt(g,cc.Vec3.UP);var v=new cc.Quat;this.Render_Camera.getRotation(v);var C=cc.Vec3.UP;cc.Vec3.transformQuat(C,C,v),v.rotateAround(v,C,this.X_Offset,v);var x=cc.Vec3.RIGHT;cc.Vec3.transformQuat(x,x,v),v.rotateAround(v,x,this.Y_Offset,v),this.Render_Camera.setRotation(v)}}),cc._RF.pop()},{}],change_image:[function(t,e,n){"use strict";cc._RF.push(e,"5d89dMLOftDm6mcLYq877kd","change_image"),cc.Class({extends:cc.Component,properties:{Background_Sprite:cc.Sprite},onLoad:function(){var t=this;cc.view.on("canvas-resize",this.Adjust_Background,this),window.addEventListener("orientationchange",function(){t.scheduleOnce(function(){t.Adjust_Background()},1)})},start:function(){window.HM=window.HM||{},window.HM.Comp=this},Change_Image:function(){window.HM.Change_Image()},Set_Image:function(t){var e=new cc.Texture2D;e.initWithElement(t);var n=new cc.SpriteFrame;n.setTexture(e),this.Background_Sprite.spriteFrame=n,window.SPRT=this.Background_Sprite,this.Adjust_Background()},Adjust_Background:function(){cc.log("Canvas WH: "+cc.Canvas.instance.node.width+" - "+cc.Canvas.instance.node.height),cc.log("Sprite WH: "+this.Background_Sprite.node.width+" - "+this.Background_Sprite.node.height);var t=cc.Canvas.instance.node.width/cc.Canvas.instance.node.height,e=this.Background_Sprite.node.width/this.Background_Sprite.node.height;this.Background_Sprite.node.scale=t>e?cc.Canvas.instance.node.width/this.Background_Sprite.node.width:cc.Canvas.instance.node.height/this.Background_Sprite.node.height}}),cc._RF.pop()},{}],edit_text:[function(t,e,n){"use strict";cc._RF.push(e,"5c251cllilHqp1hXhlpim+Y","edit_text"),Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,o=c.ccclass,i=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Edit_Panel=null,e.Stage_Node=null,e.Text_Input=null,e}return __extends(e,t),e.prototype.Show_Edit_Panel=function(){this.Edit_Panel.active=!0},e.prototype.Hide_Edit_Panel=function(){this.Edit_Panel.active=!1},e.prototype.Save_Text=function(){cc.log(this.Text_Input.string);for(var t=this.Stage_Node.getComponentsInChildren(cc.Label),e=0;e<t.length;e++)t[e].string=this.Text_Input.string;this.Hide_Edit_Panel()},__decorate([i(cc.Node)],e.prototype,"Edit_Panel",void 0),__decorate([i(cc.Node)],e.prototype,"Stage_Node",void 0),__decorate([i(cc.EditBox)],e.prototype,"Text_Input",void 0),e=__decorate([o],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],menu_control:[function(t,e,n){"use strict";cc._RF.push(e,"3650aRFToVOV63OJAGItxNm","menu_control"),cc.Class({extends:cc.Component,properties:{Stage_Node:cc.Node,Menu_Bar_Label:cc.Label,Menu_Content:cc.Node,Menu_Item_Prefab:cc.Prefab,Item_Prefab_List:[cc.Prefab],_menu_open:!1},onLoad:function(){for(var t=this,e=function(e){var n=cc.instantiate(t.Menu_Item_Prefab);n.parent=t.Menu_Content,n.getChildByName("Menu_Label").getComponent(cc.Label).string=t.Item_Prefab_List[e].name,n.on(cc.Node.EventType.TOUCH_END,function(){this.Load_Prefab(e)}.bind(t),t)},n=0;n<this.Item_Prefab_List.length;n++)e(n);var c=location.search.split("?")[1];this.Load_Prefab_With_Name(c),this.node.active=!1},start:function(){},Toggle_Menu:function(){if(this._menu_open){var t=cc.spawn(cc.moveTo(.2,cc.v2(0,-1e3)),cc.fadeOut(.2)),e=cc.callFunc(function(){this.node.active=!1},this),n=cc.sequence(t,e);n.easing(cc.easeInOut(2)),this.node.stopAllActions(),this.node.runAction(n),this._menu_open=!1}else{this._first_menu_toggled?t=cc.spawn(cc.moveTo(.5,cc.v2(0,48)),cc.fadeIn(.5)):(t=cc.fadeIn(.5),this._first_menu_toggled=!0),t.easing(cc.easeInOut(2)),this.node.active=!0,this.node.stopAllActions(),this.node.runAction(t),this._menu_open=!0}},Load_Prefab:function(t){if(this.Item_Prefab_List[t]){this.Stage_Node.removeAllChildren();var e=cc.instantiate(this.Item_Prefab_List[t]);e.parent=this.Stage_Node,this.Menu_Bar_Label.string=e.name;var n=cc.spawn(cc.moveTo(.2,cc.v2(0,-1e3)),cc.fadeOut(.2)),c=cc.callFunc(function(){this.node.active=!1},this),o=cc.sequence(n,c);o.easing(cc.easeInOut(2)),this.node.stopAllActions(),this.node.runAction(o),this._menu_open=!1}},Load_Prefab_With_Name:function(t){if(t)for(var e=0;e<this.Item_Prefab_List.length;e++)this.Item_Prefab_List[e].name==t&&this.Load_Prefab(e)}}),cc._RF.pop()},{}]},{},["camera_control","change_image","edit_text","menu_control"]);